#!/bin/sh
GO_HOST="go.dev"
GO_DL_URL="$GO_HOST/dl/"

get_latest_release() {
	local URL="$GO_DL_URL?mode=json"
	latest_release="$(curl -fsS "https://$URL" | jq -r '.[0].version')"
}

get_installed_release() {
	installed_release="$(go version | awk '/go version / { printf $3 }')"
}

get_installed_release
get_latest_release
echo "installed: $installed_release"
echo "latest available: $latest_release"
